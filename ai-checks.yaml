definitions:
  - id: git_diff
    tag: git_changes
    cmd: "git diff --cached"

  - id: my_diff_context
    tag: changes
    cmd: "internal:push_diff"

prompts:
  - id: security_auditor
    text: |
      You are a Senior Security Engineer. 
      Review the code for OWASP Top 10 vulnerabilities.
      Focus on SQL Injection, XSS, and hardcoded secrets.

  - id: python_style_guide
    text: "You are a Python expert. Ensure PEP8 compliance and type hinting."

checks:
  - id: security-check
    model: gpt-4o
    prompt_id: security_auditor
    context: [my_diff_context]
    # Feature: Override default limit for security checks
    max_chars: 32000

#  - id: style-check
#    model: gpt-3.5-turbo
#    prompt_id: python_style_guide
#    context: [git_diff]